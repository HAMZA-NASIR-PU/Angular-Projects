<div style="max-width: 450px; margin: 40px auto; font-family: Arial">
  <h2>FormArray Example â€” Phone Numbers</h2>

  <form [formGroup]="registrationForm" (ngSubmit)="submitForm()">
    <!-- Full Name -->
    <label>Full Name</label>
    <input type="text" formControlName="fullName" />
    <div
      *ngIf="
        registrationForm.get('fullName')?.touched &&
        registrationForm.get('fullName')?.invalid
      "
      style="color: red"
    >
      Full name is required.
    </div>

    <br /><br />

    <!-- FormArray of phone numbers -->
    <div formArrayName="phoneNumbers">
      <div
        *ngFor="let phoneGroup of phoneNumbers.controls; let i = index"
        [formGroupName]="i"
        style="margin-bottom: 15px"
      >
        <label>Phone {{ i + 1 }}</label>
        <input type="text" formControlName="phone" />

        <!-- Remove button -->
        <button
          type="button"
          (click)="removePhone(i)"
          *ngIf="phoneNumbers.length > 1"
          style="margin-left: 10px"
        >
          Remove
        </button>

        <!-- Validation -->
        <div
          *ngIf="
            phoneGroup.get('phone')?.touched && phoneGroup.get('phone')?.invalid
          "
          style="color: red"
        >
          <span *ngIf="phoneGroup.get('phone')?.errors?.['required']"
            >Phone is required.</span
          >
          <span *ngIf="phoneGroup.get('phone')?.errors?.['pattern']"
            >Phone must be 11 digits.</span
          >
        </div>
      </div>
    </div>

    <button type="button" (click)="addPhone()">+ Add Phone</button>

    <br /><br />

    <button type="submit" [disabled]="registrationForm.invalid">Submit</button>
  </form>
</div>
